(function(t){function e(e){for(var s,i,o=e[0],c=e[1],l=e[2],d=0,m=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&m.push(r[i][0]),r[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(m.length)m.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,o=1;o<a.length;o++){var c=a[o];0!==r[c]&&(s=!1)}s&&(n.splice(e--,1),t=i(i.s=a[0]))}return t}var s={},r={app:0},n=[];function i(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=s,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(a,s,function(e){return t[e]}.bind(null,s));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var s=a("8a23"),r=a.n(s);r.a},"31af":function(t,e,a){t.exports=a.p+"img/person.dbf32e2b.svg"},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),r=(a("d3b7"),a("bc3a")),n=a.n(r),i=a("2f62");s["a"].use(i["a"]);var o=new i["a"].Store({state:{status:"",token:localStorage.getItem("access_token")||"",email:""},mutations:{auth_request:function(t){t.status="loading"},auth_success:function(t,e,a){t.status="success",t.token=e,t.email=a},auth_error:function(t){t.status="error"},logout:function(t){t.status="",t.token=""}},actions:{signin:function(t,e){var a=t.commit;return new Promise((function(t,s){a("auth_request"),n()({url:"http://frp.oailab.cn:6101/auth/jwt/create/",data:e,method:"POST",headers:{"Content-Type":"application/json"}}).then((function(s){var r=s.data.access,i=s.data.refresh,o=e.email;localStorage.setItem("email",o),localStorage.setItem("access_token",r),localStorage.setItem("refresh_token",i),n.a.defaults.headers.common["Authorization"]="Bearer "+r,a("auth_success",r,o),t(s)})).catch((function(t){a("auth_error"),localStorage.removeItem("access_token"),s(t)}))}))},signup:function(t,e){var a=t.commit;return new Promise((function(t,s){a("auth_request"),n()({url:"http://frp.oailab.cn:6101/auth/users/",data:e,method:"POST",headers:{"Content-Type":"application/json"}}).then((function(e){var a=e.data.email;localStorage.setItem("email",a),t(e)})).catch((function(t){a("auth_error",t),localStorage.removeItem("access_token"),s(t)}))}))},refresh:function(t,e){var a=t.commit;return new Promise((function(t,s){a("auth_request"),n()({url:"http://frp.oailab.cn:6101/auth/jwt/refresh/",data:{refresh:e},method:"POST"}).then((function(e){localStorage.setItem("access_token",e.data.access),n.a.defaults.headers.common["Authorization"]="Bearer "+e.data.access,t(e)})).catch((function(t){s(t)}))}))},logout:function(t){var e=t.commit;return new Promise((function(t){e("logout"),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),delete n.a.defaults.headers.common["Authorization"],t()}))}},modules:{},getters:{isLoggedIn:function(t){return!!t.token},authStatus:function(t){return t.status}}});n.a.defaults.baseURL="http://frp.oailab.cn:6101/api",n.a.defaults.headers.common["Content-Type"]="application/json";var c=localStorage.getItem("access_token");c&&(n.a.defaults.headers.common["Authorization"]="Bearer "+c);var l={timeout:6e4,withCredentials:!0},u=n.a.create(l);u.interceptors.request.use((function(t){return t}),(function(t){return Promise.reject(t)})),u.interceptors.response.use((function(t){return t}),(function(t){var e=t.config;if(401===t.response.status&&!e._retry){e._retry=!0;var a=localStorage.getItem("refresh_token");return o.dispatch("refresh",a).then((function(t){return e.headers.Authorization="Bearer "+t.data.access,n()(e)})).catch((function(t){return console.log(t)}))}return Promise.reject(t)})),Plugin.install=function(t){t.axios=u,window.axios=u,Object.defineProperties(t.prototype,{axios:{get:function(){return u}},$axios:{get:function(){return u}}})},s["a"].use(Plugin);Plugin;var d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("Navbar",{directives:[{name:"show",rawName:"v-show",value:t.$route.meta.keepAlive,expression:"$route.meta.keepAlive"}]}),a("v-content",[a("router-view")],1)],1)},m=[],p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",[a("v-navigation-drawer",{attrs:{app:"",color:"teal lighten-1"}},[a("v-layout",{staticClass:"mb-10",attrs:{column:"","align-center":""}}),a("v-divider"),a("v-list",{attrs:{nav:""}},t._l(t.items,(function(e){return a("v-list-item",{key:e.title,attrs:{router:"",to:e.route}},[a("v-list-item-icon",[a("v-icon",[t._v(t._s(e.icon))])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(e.title))])],1)],1)})),1)],1),a("v-app-bar",{attrs:{app:"",color:"teal lighten-1",dark:""}},[a("v-spacer"),a("router-link",{attrs:{to:{name:"profile"}}},[a("v-avatar",[a("img",{attrs:{src:"https://cdn.vuetifyjs.com/images/john.jpg",alt:"John"}})])],1),a("div",{staticClass:"ml-2 mr-10 black--text"},[a("p",{staticClass:"mt-3 mb-0"},[t._v(t._s(t.userName))]),a("p",[t._v(t._s(t.userStatus))])]),a("div",{staticClass:"div"},[a("v-btn",{staticClass:"btn btn-info",on:{click:t.logout}},[t._v("退出")])],1)],1)],1)},v=[],h={name:"Navbar",data:function(){return{userName:"yzt",userStatus:"未认证",items:[{title:"学生列表",icon:"mdi-dialpad",route:{name:"studentlist"}},{title:"学生注册",icon:"mdi-pencil",route:{name:"studentadd"}},{title:"修改密码",icon:"mdi-lock",route:{name:"changepassword"}}]}},methods:{logout:function(){var t=this;this.$store.dispatch("logout").then((function(){return t.$router.push("/signin")})).catch((function(t){return console.log(t)}))}}},f=h,b=a("2877"),g=a("6544"),_=a.n(g),w=a("40dc"),x=a("8212"),$=a("8336"),y=a("ce7e"),k=a("132d"),C=a("a722"),V=a("8860"),q=a("da13"),S=a("5d23"),j=a("34c3"),L=a("f774"),T=a("2fa4"),E=Object(b["a"])(f,p,v,!1,null,null,null),O=E.exports;_()(E,{VAppBar:w["a"],VAvatar:x["a"],VBtn:$["a"],VDivider:y["a"],VIcon:k["a"],VLayout:C["a"],VList:V["a"],VListItem:q["a"],VListItemContent:S["a"],VListItemIcon:j["a"],VListItemTitle:S["b"],VNavigationDrawer:L["a"],VSpacer:T["a"]});var I={name:"App",components:{Navbar:O},computed:{isLoggedIn:function(){return this.$store.getters.isLoggedIn}},methods:{logout:function(){var t=this;this.$store.dispatch("logout").then((function(){t.$router.push("/login")}))}},created:function(){this.axios.interceptors.response.use(void 0,(function(t){var e=this;return new Promise((function(){throw 401===t.status&&t.config&&!t.config.__isRetryRequest&&e.$store.dispatch("logout"),t}))}))}},P=I,A=(a("034f"),a("7496")),F=a("a75b"),R=Object(b["a"])(P,d,m,!1,null,null,null),B=R.exports;_()(R,{VApp:A["a"],VContent:F["a"]});a("45fc");var z=a("8c4f"),M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"studentInfo"},[a("v-card",{staticClass:"mx-auto mt-12 ml-6 mr-6",staticStyle:{border:"0px"},attrs:{outlined:""}},[a("v-list-item",{attrs:{"three-line":""}},[a("v-list-item-content",[a("div",{staticClass:"overline mb-4"},[a("span",{staticClass:"title font-weight-light"},[t._v("学生个人信息")])]),a("v-list-item-title",{staticClass:"mb-1 mb-4"},[t._v("姓名："+t._s(t.student.name))]),a("v-list-item-title",{staticClass:"mb-1 mb-4"},[t._v("性别："+t._s(t.student.gender))]),a("v-list-item-title",{staticClass:"mb-1 mb-4"},[t._v("学号："+t._s(t.student.number))])],1),a("v-list-item-avatar",{attrs:{tile:"",size:"80",color:"grey"}},[a("v-img",{staticClass:"elevation-6",attrs:{src:t.student.photo}})],1)],1),a("v-card",{staticClass:"mt-2 mb-2",attrs:{"min-height":"380"}},[a("v-tabs",{attrs:{"background-color":"indigo",dark:""}},[t._l(t.cards,(function(e,s){return a("v-tab",{key:s},[t._v(t._s(e))])})),a("v-tab-item",[a("v-card",{attrs:{flat:""}},[a("v-card-text",{attrs:{dense:""}})],1)],1),a("v-tab-item",[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("v-card-title",[t._v(" 课程成绩 "),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-switch",{staticClass:"ma-2",attrs:{label:"修改"},model:{value:t.disabled,callback:function(e){t.disabled=e},expression:"disabled"}})],1),a("v-simple-table",{staticClass:"ml-5 mr-5",scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[t._v("序号")]),a("th",{staticClass:"text-left"},[t._v("课程")]),a("th",{staticClass:"text-left"},[t._v("成绩")])])]),t.student.courses?a("tbody",t._l(t.student.courses.inputs,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(s+1))]),a("td",[a("v-text-field",{staticStyle:{width:"30%"},attrs:{disabled:!t.disabled,dense:""},model:{value:e.课程,callback:function(a){t.$set(e,"课程",a)},expression:"item.课程"}})],1),a("td",[a("v-text-field",{staticStyle:{width:"30%"},attrs:{disabled:!t.disabled,dense:""},model:{value:e.分数,callback:function(a){t.$set(e,"分数",a)},expression:"item.分数"}})],1)])})),0):t._e()]},proxy:!0}])})],1),a("v-btn",{staticClass:"mb-12 mt-10",attrs:{color:"primary",right:"",dark:""},on:{click:t.submit}},[t._v("确定")])],1)],1),a("v-tab-item",[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("v-card-title",[t._v(" 学分绩点 "),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer")],1),a("v-simple-table",{staticClass:"ml-5 mr-5",scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[t._v("序号")]),a("th",{staticClass:"text-left"},[t._v("课程")]),a("th",{staticClass:"text-left"},[t._v("分数")]),a("th",{staticClass:"text-left"},[t._v("学分")]),a("th",{staticClass:"text-left"},[t._v("绩点")])])]),t.student.courses?a("tbody",t._l(t.student.courses.inputs,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(s+1))]),a("td",[t._v(t._s(e.课程))]),a("td",[t._v(t._s(e.分数))]),a("td",[t._v(t._s(1))]),a("td",[t._v(t._s(t.courseGPA(e.分数)))])])})),0):t._e()]},proxy:!0}])}),a("hr"),a("p",{staticClass:"mt-5 ml-6"},[t._v("平均学分绩点为："+t._s(t.averageGPA()))])],1)],1)],1)],2)],1)],1)],1)},D=[],N=(a("b0c0"),a("b680"),{components:{},data:function(){return{student:"",disabled:!1,cards:["access","inputs","computes"]}},methods:{submit:function(){this.axios.patch("students/".concat(this.$route.params.id,"/"),{name:this.student.name,number:this.student.number,courses:this.student.courses}).then()},courseGPA:function(t){var e=0;return e=t<60?0:t<=63&&t>=60?1.3:t<=67&&t>=64?1.5:t<=71&&t>=68?2:t<=74&&t>=72?2.3:t<=77&&t>=75?2.7:t<=81&&t>=78?3:t<=84&&t>=82?3.3:t<=89&&t>=85?3.7:4,e},averageGPA:function(){for(var t=0,e=0,a=0;a<this.student.courses.inputs.length;a++)t+=this.courseGPA(this.student.courses.inputs[a].分数),e=t/this.student.courses.inputs.length;return e.toFixed(2)}},mounted:function(){var t=this;this.axios.get("students/".concat(this.$route.params.id,"/")).then((function(e){t.student=e.data})).catch((function(t){console.log(t)}))}}),G=N,J=a("b0af"),U=a("99d9"),X=a("adda"),Y=a("8270"),H=a("1f4f"),W=a("b73d"),K=a("71a3"),Q=a("c671"),Z=a("fe57"),tt=a("8654"),et=Object(b["a"])(G,M,D,!1,null,null,null),at=et.exports;_()(et,{VBtn:$["a"],VCard:J["a"],VCardText:U["b"],VCardTitle:U["c"],VDivider:y["a"],VImg:X["a"],VListItem:q["a"],VListItemAvatar:Y["a"],VListItemContent:S["a"],VListItemTitle:S["b"],VSimpleTable:H["a"],VSpacer:T["a"],VSwitch:W["a"],VTab:K["a"],VTabItem:Q["a"],VTabs:Z["a"],VTextField:tt["a"]});var st=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"studentList"},[a("div",{staticClass:"container"},[a("v-card",[a("v-card-title",[t._v(" 学生信息列表 "),a("v-spacer"),a("v-text-field",{attrs:{label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.students,search:t.search,"sort-desc":[!1,!0],"multi-sort":"",loading:this.loadFlag,"loading-text":"数据加载中... 请稍候"},scopedSlots:t._u([{key:"item.number",fn:function(e){var s=e.item;return[a("router-link",{attrs:{to:{name:"studentinfo",params:{id:s.id}}}},[t._v(" "+t._s(s.number)+" ")])]}}])})],1)],1)])},rt=[],nt={data:function(){return{search:"",headers:[{text:"序号",value:"id"},{text:"姓名",align:"left",sortable:!1,value:"name"},{text:"性别",value:"gender"},{text:"学号",value:"number"}],students:[]}},computed:{loadFlag:function(){return!(this.students.length>0)}},mounted:function(){this.getData()},watch:{},methods:{getData:function(){var t=this;this.axios.get("students/?limit=10000&offset=0").then((function(e){t.students=e.data.results})).catch((function(t){console.log(t)}))}}},it=nt,ot=a("8fea"),ct=Object(b["a"])(it,st,rt,!1,null,null,null),lt=ct.exports;_()(ct,{VCard:J["a"],VCardTitle:U["c"],VDataTable:ot["a"],VSpacer:T["a"],VTextField:tt["a"]});var ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"studentLogin"},[a("v-container",[a("v-form",{ref:"formData",staticClass:"white"},[a("v-card",[a("v-card-text",{staticClass:"title black--text"},[t._v("基本信息")]),a("v-card-text",{staticClass:"body-1 pb-0 pl-3 pr-3"},[a("v-row",{attrs:{row:""}},[a("v-col",{staticClass:"d-flex mt-4 ml-4",attrs:{md:"3"}},[a("div",{staticStyle:{width:"70px"}},[a("p",{staticClass:"mt-2"},[a("span",{staticClass:"red--text"},[t._v("*")]),t._v("姓名")])]),a("v-text-field",{attrs:{"error-messages":t.nameErrors,label:"请输入您的姓名",required:"",solo:""},on:{input:function(e){return t.$v.name.$touch()},blur:function(e){return t.$v.name.$touch()}},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),a("v-col",{staticClass:"d-flex mt-4",attrs:{md:"3","offset-md":"1"}},[a("div",{staticStyle:{width:"50px"}},[a("p",{staticClass:"mt-2"},[a("span",{staticClass:"red--text"},[t._v("*")]),t._v("学号")])]),a("v-text-field",{attrs:{"error-messages":t.idErrors,label:"请输入您的学号",required:"",solo:""},on:{input:function(e){return t.$v.number.$touch()},blur:function(e){return t.$v.number.$touch()}},model:{value:t.number,callback:function(e){t.number=e},expression:"number"}})],1),a("v-col",{staticClass:"d-flex mt-3",attrs:{md:"3","offset-md":"1"}},[a("div",{staticStyle:{width:"70px"}},[a("p",{staticClass:"mt-3"},[a("span",{staticClass:"red--text"},[t._v("*")]),t._v("性别")])]),a("v-select",{attrs:{items:t.genders,"error-messages":t.genderErrors,label:"请选择您的性别",required:"",solo:""},on:{change:function(e){return t.$v.gender.$touch()},blur:function(e){return t.$v.gender.$touch()}},model:{value:t.gender,callback:function(e){t.gender=e},expression:"gender"}})],1)],1),a("v-row",{attrs:{row:""}},[a("div",{staticClass:"col-md-3 offset-md-1"},[a("v-avatar",{attrs:{tile:"",height:"200px",width:"200px"}},[a("v-img",{staticClass:" ",attrs:{src:t.imgsrc,height:"100%",width:"100%"}})],1)],1),a("div",{staticClass:"col-md-4"},[a("v-file-input",{attrs:{accept:"image/*","show-size":"",label:"File input","prepend-icon":"mdi-camera",required:"","error-messages":t.imageErrors},on:{change:function(e){return t.$v.left_eye.$touch()},blur:function(e){return t.$v.left_eye.$touch()}},model:{value:t.left_eye,callback:function(e){t.left_eye=e},expression:"left_eye"}})],1)]),a("v-row",{attrs:{row:""}},[a("v-col",{attrs:{md:"1","offset-md":"9"}},[a("v-btn",{attrs:{color:"success lighten-1"},on:{click:t.reset}},[t._v("重置")])],1),a("v-col",{attrs:{md:"1"}},[a("v-btn",{attrs:{color:"red lighten-1"},on:{click:t.submit}},[t._v("注册")])],1)],1)],1)],1)],1),a("div",{staticClass:"text-center"},[a("v-snackbar",{attrs:{timeout:t.timeout},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.text)+" "),a("v-btn",{attrs:{color:"blue",text:""},on:{click:t.done}},[t._v("Close")])],1)],1)],1)],1)},dt=[],mt=(a("3ca3"),a("ddb0"),a("2b3d"),a("1dce")),pt=a("b5ae"),vt={name:"Register",mixins:[mt["validationMixin"]],validations:{name:{required:pt["required"],maxLength:Object(pt["maxLength"])(10)},gender:{required:pt["required"]},number:{required:pt["required"],maxLength:Object(pt["maxLength"])(10),minLength:Object(pt["minLength"])(10)},left_eye:{required:pt["required"]}},data:function(){return{snackbar:!1,text:"恭喜你，已经注册成功！",timeout:3e3,valid:!0,name:"",gender:null,number:"",genders:["男","女"],left_eye:{}}},computed:{imgsrc:function(){try{return URL.createObjectURL(this.left_eye)}catch(t){return a("31af")}},nameErrors:function(){var t=[];return this.$v.name.$dirty?(!this.$v.name.maxLength&&t.push("字符不能超过10个"),!this.$v.name.required&&t.push("名字不能为空"),t):t},genderErrors:function(){var t=[];return this.$v.gender.$dirty?(!this.$v.gender.required&&t.push("性别不能为空"),t):t},idErrors:function(){var t=[];return this.$v.number.$dirty?(!this.$v.number.required&&t.push("学号不能为空"),!this.$v.number.maxLength&&t.push("学号不能超过10位"),!this.$v.number.minLength&&t.push("学号少于超过10位"),t):t},imageErrors:function(){var t=[];return this.$v.number.$dirty?(!this.$v.number.required&&t.push("图片不能为空"),t):t}},methods:{reset:function(){this.$v.$reset(),this.name="",this.gendr=null,this.number="",this.left_eye={}},done:function(){this.snackbar=!0,this.reset()},submit:function(){if(this.$v.$touch(),!this.$v.$invalid){var t=new FormData;t.append("name",this.name),t.append("gender",this.gender),t.append("number",this.number),t.append("photo",this.left_eye),this.axios.post("students/",t).then(this.done())}}}},ht=vt,ft=a("62ad"),bt=a("a523"),gt=a("23a7"),_t=a("4bd4"),wt=a("0fd9"),xt=a("b974"),$t=a("2db4"),yt=Object(b["a"])(ht,ut,dt,!1,null,null,null),kt=yt.exports;_()(yt,{VAvatar:x["a"],VBtn:$["a"],VCard:J["a"],VCardText:U["b"],VCol:ft["a"],VContainer:bt["a"],VFileInput:gt["a"],VForm:_t["a"],VImg:X["a"],VRow:wt["a"],VSelect:xt["a"],VSnackbar:$t["a"],VTextField:tt["a"]});var Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login"},[a("v-container",[a("v-row",{staticClass:"mt-12"},[a("v-col",{attrs:{cols:"12",sm:"8",md:"5","offset-md":"2"}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",[t._v("Login form")]),a("v-spacer")],1),a("v-card-text",[a("v-form",{on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.test(e)}}},[a("v-text-field",{attrs:{label:"email",name:"email","prepend-icon":"mdi-email",type:"text"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-text-field",{attrs:{id:"password",label:"Password",name:"password","prepend-icon":"mdi-lock",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),a("v-card-actions",[a("v-row",{attrs:{justify:"space-around"}},[a("v-btn",{attrs:{color:"primary"},on:{click:t.register}},[t._v("Register")]),a("v-btn",{attrs:{color:"primary"},on:{click:t.login}},[t._v(" Login ")])],1)],1)],1)],1)],1)],1)],1)},Vt=[],qt={data:function(){return{email:"",password:""}},created:function(){var t=this;document.onkeypress=function(e){var a=document.all?event.keyCode:e.which;if(13==a)return t.login(),!1}},methods:{login:function(){var t=this,e=this.email,a=this.password;this.$store.dispatch("signin",{email:e,password:a}).then((function(){return t.$router.push("/")})).catch((function(t){return console.log(t)}))},register:function(){this.$router.push("/signup")}}},St=qt,jt=a("71d9"),Lt=a("2a7f"),Tt=Object(b["a"])(St,Ct,Vt,!1,null,null,null),Et=Tt.exports;_()(Tt,{VBtn:$["a"],VCard:J["a"],VCardActions:U["a"],VCardText:U["b"],VCol:ft["a"],VContainer:bt["a"],VForm:_t["a"],VRow:wt["a"],VSpacer:T["a"],VTextField:tt["a"],VToolbar:jt["a"],VToolbarTitle:Lt["a"]});var Ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"register"},[a("v-row",[a("v-col",{attrs:{md:"6",sm:"6","offset-md":"2"}},[a("v-card-text",{staticClass:"test"},[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{md:"10","offset-md":"1"}},[a("v-text-field",{attrs:{"error-messages":t.emailErrors,label:"xxx@example.com",required:"",type:"email"},on:{input:function(e){return t.$v.email.$touch()},blur:function(e){return t.$v.email.$touch()}},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1),a("v-row",[a("v-col",{attrs:{md:"10","offset-md":"1"}},[a("v-text-field",{attrs:{"error-messages":t.passwordErrors,label:"password",required:"",type:"password"},on:{input:function(e){return t.$v.password.$touch()},blur:function(e){return t.$v.password.$touch()}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),a("v-row",[a("v-col",{attrs:{md:"10","offset-md":"1"}},[a("v-text-field",{attrs:{"error-messages":t.passwordConfirmErrors,label:"password_confirm",required:"",type:"password"},on:{input:function(e){return t.$v.password_confirmation.$touch()},blur:function(e){return t.$v.password_confirmation.$touch()}},model:{value:t.password_confirmation,callback:function(e){t.password_confirmation=e},expression:"password_confirmation"}})],1)],1),a("v-row",{attrs:{justify:"space-around"}},[a("v-btn",{attrs:{color:"primary"},on:{click:t.reset}},[t._v("Reset")]),a("v-btn",{attrs:{color:"success"},on:{click:t.register}},[t._v("Register")])],1)],1)],1),a("div",{staticClass:"text-center"},[a("v-snackbar",{attrs:{timeout:t.timeout},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.tips)+" "),a("v-btn",{attrs:{color:"blue",text:""},on:{click:t.done}},[t._v("Close")])],1)],1)],1)],1)],1)},It=[],Pt={name:"Register",mixins:[mt["validationMixin"]],validations:{email:{required:pt["required"],email:pt["email"]},password:{required:pt["required"],minLength:Object(pt["minLength"])(8)},password_confirmation:{required:pt["required"],minLength:Object(pt["minLength"])(8)}},data:function(){return{valid:!0,snackbar:!1,timeout:3e3,tips:"",email:"",password:"",password_confirmation:""}},created:function(){var t=this;document.onkeypress=function(e){var a=document.all?event.keyCode:e.which;if(13==a)return t.register(),!1}},methods:{register:function(){var t=this,e={email:this.email,password:this.password};this.$v.$invalid?this.tipsbar("信息不完善,请检查"):(console.log(e),this.password===this.password_confirmation?this.$store.dispatch("signup",e).then((function(e){t.$router.push("/signin"),console.log(e)})).catch((function(t){return console.log(t)})):this.tipsbar("两次密码不一致，请检查"))},reset:function(){this.$v.$reset(),this.email="",this.password_confirmation="",this.password=""},tipsbar:function(t){this.snackbar=!0,this.tips=t},done:function(){this.snackbar=!0}},computed:{emailErrors:function(){var t=[];return this.$v.email.$dirty?(!this.$v.email.email&&t.push("请输入合法邮箱"),!this.$v.email.required&&t.push("邮箱不能为空"),t):t},passwordErrors:function(){var t=[];return this.$v.password.$dirty?(!this.$v.password.minLength&&t.push("密码至少8位字符|"),!this.$v.password.required&&t.push("密码不能为空"),t):t},passwordConfirmErrors:function(){var t=[];return this.$v.password_confirmation.$dirty?(!this.$v.password_confirmation.minLength&&t.push("密码至少8位字符|"),!this.$v.password_confirmation.required&&t.push("密码不能为空"),t):t}}},At=Pt,Ft=(a("74c8"),Object(b["a"])(At,Ot,It,!1,null,null,null)),Rt=Ft.exports;_()(Ft,{VBtn:$["a"],VCardText:U["b"],VCol:ft["a"],VForm:_t["a"],VRow:wt["a"],VSnackbar:$t["a"],VTextField:tt["a"]});var Bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"changepassword"},[a("div",{staticClass:"container"},[a("v-card",[a("v-form",{attrs:{refs:"form"}},[a("v-row",{staticStyle:{height:"80px"},attrs:{row:""}},[a("v-col",{staticClass:"d-flex mt-4 ml-4",attrs:{md:"4"}},[a("div",{staticStyle:{width:"100px"}},[a("p",{staticClass:"mt-2"},[a("span",{staticClass:"red--text"},[t._v("*")]),t._v("原密码")])]),a("v-text-field",{attrs:{solo:"",type:"password","error-messages":t.currentpasswordErrors,required:""},on:{input:function(e){return t.$v.current_password.$touch()},blur:function(e){return t.$v.current_password.$touch()}},model:{value:t.current_password,callback:function(e){t.current_password=e},expression:"current_password"}})],1)],1),a("v-row",{staticStyle:{height:"80px"},attrs:{row:""}},[a("v-col",{staticClass:"d-flex mt-4 ml-4",attrs:{md:"4"}},[a("div",{staticStyle:{width:"100px"}},[a("p",{staticClass:"mt-2"},[a("span",{staticClass:"red--text"},[t._v("*")]),t._v("新密码")])]),a("v-text-field",{attrs:{"error-messages":t.newpasswordErrors,required:"",solo:"",type:"password"},on:{input:function(e){return t.$v.new_password.$touch()},blur:function(e){return t.$v.new_password.$touch()}},model:{value:t.new_password,callback:function(e){t.new_password=e},expression:"new_password"}})],1)],1),a("v-row",{staticStyle:{height:"80px"},attrs:{row:""}},[a("v-col",{staticClass:"d-flex mt-4 ml-4",attrs:{md:"4"}},[a("div",{staticStyle:{width:"100px"}},[a("p",{staticClass:"mt-2"},[a("span",{staticClass:"red--text"},[t._v("*")]),t._v("重复新密码")])]),a("v-text-field",{attrs:{"error-messages":t.passwordConfirmErrors,required:"",solo:"",type:"password"},on:{input:function(e){return t.$v.password_confirmation.$touch()},blur:function(e){return t.$v.password_confirmation.$touch()}},model:{value:t.password_confirmation,callback:function(e){t.password_confirmation=e},expression:"password_confirmation"}})],1)],1),a("v-row",{attrs:{justify:"end"}},[a("div",{staticClass:"col-md-2"},[a("v-btn",{staticClass:"btn",attrs:{color:"success"},on:{click:t.submit}},[t._v("确认修改")])],1)]),a("v-snackbar",{attrs:{"multi-line":t.multiLine,timeout:t.timeout,color:t.changeFlag},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.text)+" "),a("v-btn",{attrs:{text:""},on:{click:t.initTips}},[t._v(" Close ")])],1)],1)],1)],1)])},zt=[],Mt={mixins:[mt["validationMixin"]],validations:{current_password:{required:pt["required"],minLength:Object(pt["minLength"])(8)},new_password:{required:pt["required"],minLength:Object(pt["minLength"])(8)},password_confirmation:{required:pt["required"],minLength:Object(pt["minLength"])(8)}},data:function(){return{current_password:"",new_password:"",password_confirmation:"",multiLine:!0,snackbar:!1,text:"input error",timeout:3e3,changeArray:[],changeFlag:"error lighten-2"}},methods:{submit:function(){var t=this,e=this,a={current_password:this.current_password,new_password:this.new_password};this.new_password===this.password_confirmation?this.axios.post("http://frp.oailab.cn:6101/auth/users/set_password/",a).then((function(e){204===e.status&&(t.text="修改成功！",t.changeFlag="success lighten-2",t.snackbar=!0,t.reset())})).catch((function(t){console.log(t.response.data),400==t.response.status&&(t.response.data.hasOwnProperty("current_password")?(e.text="原密码错误",e.snackbar=!0):t.response.data.hasOwnProperty("new_password")&&(1==t.response.data.new_password.length?e.text=t.response.data.new_password[0]:e.text=t.response.data.new_password[0]+t.response.data.new_password[1],e.snackbar=!0))})):(this.text="新密码不一致",this.snackbar=!0)},initTips:function(){this.snackbar=!1,this.text="error",this.changeFlag="error lighten-2"},reset:function(){this.$v.$reset(),this.current_password="",this.new_password="",this.password_confirmation=""}},computed:{currentpasswordErrors:function(){var t=[];return this.$v.current_password.$dirty?(!this.$v.current_password.minLength&&t.push("密码至少8位字符|"),!this.$v.current_password.required&&t.push("密码不能为空"),t):t},newpasswordErrors:function(){var t=[];return this.$v.new_password.$dirty?(!this.$v.new_password.minLength&&t.push("密码至少8位字符|"),!this.$v.new_password.required&&t.push("密码不能为空"),t):t},passwordConfirmErrors:function(){var t=[];return this.$v.password_confirmation.$dirty?(!this.$v.password_confirmation.minLength&&t.push("密码至少8位字符|"),!this.$v.password_confirmation.required&&t.push("密码不能为空"),t):t}}},Dt=Mt,Nt=Object(b["a"])(Dt,Bt,zt,!1,null,null,null),Gt=Nt.exports;_()(Nt,{VBtn:$["a"],VCard:J["a"],VCol:ft["a"],VForm:_t["a"],VRow:wt["a"],VSnackbar:$t["a"],VTextField:tt["a"]});var Jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"profile"},[a("v-container",[a("v-form",{ref:"formData",staticClass:"white"},[a("v-card",[a("v-card-text",{staticClass:"title black--text"},[t._v("个人信息")]),a("v-card-text",{staticClass:"body-1 pb-0 pl-3 pr-3 mb-4"},[a("v-row",{attrs:{row:""}},[a("v-col",{staticClass:"d-flex mt-4 ml-4",attrs:{md:"3"}},[a("div",{staticStyle:{width:"70px"}},[a("p",{staticClass:"mt-2"},[a("span",{staticClass:"red--text"},[t._v("*")]),t._v("邮箱")])]),a("v-text-field",{attrs:{solo:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1)],1)],1),a("v-row",{attrs:{justify:"end"}},[a("div",{staticClass:"col-md-2"},[a("v-btn",{staticClass:"btn",attrs:{color:"success"},on:{click:t.submit}},[t._v("确认修改")])],1)])],1)],1)],1)},Ut=[],Xt={data:function(){return{email:""}},mounted:function(){this.getUserData()},methods:{submit:function(){this.axios.patch("http://frp.oailab.cn:6101/auth/users/me/",{email:this.email}).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))},getUserData:function(){var t=this;this.axios.get("http://frp.oailab.cn:6101/auth/users/me/").then((function(e){t.email=e.data.email}))}}},Yt=Xt,Ht=Object(b["a"])(Yt,Jt,Ut,!1,null,null,null),Wt=Ht.exports;_()(Ht,{VBtn:$["a"],VCard:J["a"],VCardText:U["b"],VCol:ft["a"],VContainer:bt["a"],VForm:_t["a"],VRow:wt["a"],VTextField:tt["a"]});var Kt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Qt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Math"},[a("h1",[t._v("MathJax v3 beta: TeX input, HTML output test")]),a("p",[t._v(" When $a \\ne 0$, there are two solutions to \\(ax^2 + bx + c = 0\\) and they are $$x = {-b \\pm \\sqrt{b^2-4ac} \\over 2a}.$$ ")]),a("h2",[t._v("The Lorenz Equations")]),a("p",[t._v(" \\begin{align} \\dot{x} & = \\sigma(y-x) \\\\ \\dot{y} & = \\rho x - y - xz \\\\ \\dot{z} & = -\\beta z + xy \\end{align} ")]),a("h2",[t._v("The Cauchy-Schwarz Inequality")]),a("p",[t._v(" \\[ \\left( \\sum_{k=1}^n a_k b_k \\right)^{\\!\\!2} \\leq \\left( \\sum_{k=1}^n a_k^2 \\right) \\left( \\sum_{k=1}^n b_k^2 \\right) \\] ")]),a("h2",[t._v("A Cross Product Formula")]),a("p",[t._v(" \\[ \\mathbf{V}_1 \\times \\mathbf{V}_2 = \\begin{vmatrix} \\mathbf{i} & \\mathbf{j} & \\mathbf{k} \\\\ \\frac{\\partial X}{\\partial u} & \\frac{\\partial Y}{\\partial u} & 0 \\\\ \\frac{\\partial X}{\\partial v} & \\frac{\\partial Y}{\\partial v} & 0 \\\\ \\end{vmatrix} \\] ")]),a("h2",[t._v(" The probability of getting \\(k\\) heads when flipping \\(n\\) coins is: ")]),a("p",[t._v("\\[P(E) = {n \\choose k} p^k (1-p)^{ n-k} \\]")]),a("h2",[t._v("An Identity of Ramanujan")]),a("p",[t._v(" \\[ \\frac{1}{(\\sqrt{\\phi \\sqrt{5}}-\\phi) e^{\\frac25 \\pi}} = 1+\\frac{e^{-2\\pi}} {1+\\frac{e^{-4\\pi}} {1+\\frac{e^{-6\\pi}} {1+\\frac{e^{-8\\pi}} {1+\\ldots} } } } \\] ")]),a("h2",[t._v("A Rogers-Ramanujan Identity")]),a("p",[t._v(" \\[ 1 + \\frac{q^2}{(1-q)}+\\frac{q^6}{(1-q)(1-q^2)}+\\cdots = \\prod_{j=0}^{\\infty}\\frac{1}{(1-q^{5j+2})(1-q^{5j+3})}, \\quad\\quad \\text{for $|q| < 1$}. \\] ")]),a("h2",[t._v("Maxwell's Equations")]),a("p",[t._v(" \\begin{align} \\nabla \\times \\vec{\\mathbf{B}} -\\, \\frac1c\\, \\frac{\\partial\\vec{\\mathbf{E}}}{\\partial t} & = \\frac{4\\pi}{c}\\vec{\\mathbf{j}} \\\\ \\nabla \\cdot \\vec{\\mathbf{E}} & = 4 \\pi \\rho \\\\ \\nabla \\times \\vec{\\mathbf{E}}\\, +\\, \\frac1c\\, \\frac{\\partial\\vec{\\mathbf{B}}}{\\partial t} & = \\vec{\\mathbf{0}} \\\\ \\nabla \\cdot \\vec{\\mathbf{B}} & = 0 \\end{align} ")]),a("h2",[t._v("In-line Mathematics")]),a("p",[t._v(" Finally, while display equations look good for a page of samples, the ability to mix math and text in a paragraph is also important. This expression $\\sqrt{3x-1}+(1+x)^2$ is an example of an inline equation. As you see, MathJax equations can be used this way as well, without unduly disturbing the spacing between lines. ")])])}],Zt={},te=Object(b["a"])(Zt,Kt,Qt,!1,null,null,null),ee=te.exports,ae={keepAlive:!0,requiresAuth:!0};s["a"].use(z["a"]);var se=new z["a"]({mode:"history",base:"/",routes:[{path:"/math",name:"math",component:ee},{path:"/signin",name:"signin",component:Et},{path:"/signup",name:"signup",component:Rt},{path:"/student/add",name:"studentadd",component:kt,meta:ae},{path:"/student/:id",name:"studentinfo",component:at,meta:ae},{path:"/",name:"studentlist",component:lt,meta:ae},{path:"/changepassword",name:"changepassword",component:Gt,meta:ae},{path:"/profile",name:"profile",component:Wt,meta:ae}]});se.beforeEach((function(t,e,a){if(t.matched.some((function(t){return t.meta.requiresAuth}))){if(o.getters.isLoggedIn)return void a();a("/signin")}else a()}));var re=se,ne=(a("5363"),a("f309"));s["a"].use(ne["a"]);var ie=new ne["a"]({icons:{iconfont:"mdi"}});s["a"].config.productionTip=!1,new s["a"]({router:re,vuetify:ie,store:o,render:function(t){return t(B)}}).$mount("#app")},"74c8":function(t,e,a){"use strict";var s=a("e513"),r=a.n(s);r.a},"8a23":function(t,e,a){},e513:function(t,e,a){}});
//# sourceMappingURL=app.c3c79e1a.js.map